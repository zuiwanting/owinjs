{
  "name": "owinjs",
  "description": "Owin/JS extremeley lightweight middleware framework for Node.js, with Promise/A based async tasks.   Replacement for Connect, Express, and Koa, with adapters to call middleware written for latter frameworks.  Conforms to the OWIN specification for .NET servers.",
  "author": {
    "name": "OwinJS"
  },
  "version": "0.1.0",
  "repository": {
    "type": "git",
    "url": "https://github.com/OwinJS/OwinJS"
  },
  "peerDependencies": {
    "promise": "*"
  },
  "keywords": [
    "owinjs",
    "middleware",
    "router",
    "route",
    "http",
    "connect",
    "promise",
    "async",
    "framework",
    "node",
    "tasks"
  ],
  "license": "MIT",
  "readme": "[![OWIN/JS](https://raw.github.com/OwinJS/OwinJS-Spec/master/OwinJS.png)](http://owinjs.github.io)\n\n# OwinJS/owinjs\n\n## About\n\n [`OwinJS/owinjs-spec`](https://github.com/OwinJS/owinjs-spec) defines a standard interface between Node.js (and .NET) http servers and web applications. \n\nIn fact, OWIN/JS is a direct port of the [OWIN](http://owin.org) specification to expand the reach to Node.js servers as well as keep the reference .NET spec intact.  Published as open-source standards without dependence on any implementation or platform , the OWIN and OWIN/JS specs allow applications to be developed independently of the actual server (nGinX, IIS, Node.js, Katana, etc.)\n\nIn contrast to the  [`OwinJS/owinjs-spec`](https://github.com/OwinJS/owinjs-spec) *specification*, this repository contains an **actual** OWIN/JS **implementation** for node.js Javascript.  Since Node already contains a full function webserver `require(http)`, this repository remains  light weight and is ready to go with a handful of lines of code.\n\nSee all the other repositories in the OwinJS organization space for reference servers and middleware.\n\n\n## Summary\n\nAn Owin/JS middleware/application is simply a `function(next)` that provides a single web-server owin context for each request, where it is easy to access all the http parameters  (`this.request.path`, `this.response.body` etc.).  \"Tasks\" (promises) are returned for full async programming without callbacks nor use of limited ES6 features.\n\nMiddleware can be chained with `app.use(middleware1).use(middleware2)` etc.\n\nOwin/JS middleware can be used in Owin/JS servers like [nodeAppKit](https://github.com/OwinJS/NodeAppKit) with `app.build()` or can be used directly in legacy Node http servers with `app.httpCallback()`.  \n\nSimilarly, Owin/JS servers can call legacy middleware with `owin.connect( function(req,res){ ... }  )`.\n\n\n## NPM Package Contents\n\nThis repository contains a Node Package Manager (NPM) package with helper functions for:\n \n* AppBuilder Interface and Implementation for middleware and applications, with automatic translation to async-based Tasks (Promises conforming to Promise/A specification), use of *this* for owinContext instead of separate argument, and *next* argument for middleware chaining\n* OwinConnect: An OWIN/JS -> Connect/Express application bridge\n* OwinHttp:  A Node Http Server --> OWIN/JS application bridge\n* Promise:  Includes a dependecny to the [then/promise](https://github.com/then/promise) implementation which can be used by all other owinjs applications and middleware\n\nThis package is intended for use in Node applications that either run on an web server that conforms to the OWIN/JS specification or run using the included OwinHttp bridge from the Node Http server.\n\n* [nodeAppKit](https://github.com/OwinJS/NodeAppKit) is an example of an OWIN/JS server implementation (that runs in cross-platform browser like window)\n* [OwinHttp](./owinHttp.js) is an example of an OWIN/JS server implementation that simply pipes requests from a host Node.js `require('http')` server\n\n## Middleware/Application Pipeline Builder: AppBuilder \n```js\napp.use(middleware)\n```\n\nAdds a middleware node to the OWIN/JS function pipeline. The middleware are\ninvoked in the order they are added: the first middleware passed to `app.use` will\nbe the outermost function, and the last middleware passed to Use will be the\ninnermost.\n\n### middleware\nThe middleware parameter determines which behavior is being chained into the pipeline. \n\n* If the middleware given to use is a function that takes **one** argument, then it will be invoked with the `next` component in the chain as its parameter, and with the `this` context set to the Owin/JS context.  It MUST return a promise that conforms to the Promise/A specification.\n\n* If the middleware given to use is a function that takes **two** arguments, then it will be invoked with the `next` component in the chain as its parameter, with a Node-based callback (`function(err, result){}`)as its second parameter, and with the `this` context set to the Owin/JS context.  This type of middleware should return void.\n\n### returns app\nThe AppBuilder `app` itself is returned. This enables you to chain your use statements together.\n\n### build pipeline when all middleware added:\n```js\napp.build()\n```\nreturns an Owin/JS NodeFunc function(owin, callback) that can be inserted into any Owin/JS server.\n\n## Bridges\n\nTwo simple functions `owin.connect()` and `owin.http()` are provided to bridge between Owin context applications/middleware and Node.js http-style `function(req,res)` based  applications/middleware. \n\nThese are low overhead functions, bridging by reference not by value wherever possible, and open up the Owin/JS world to the entire Connect/Express based ecosystem and vice versa.   We have not ported to Koa or other similar frameworks but it would be relatively straightforward to do so.\n\n* `owin.connect()` consumes a Connect-based application function (one that would normally be passed to the http.CreateServer method) and returns an Owin/JS **NodeFunc**.\n* `owin.http()` consumes an Owin/JS **NodeFunc** and returns a function (that takes http.requestMessage and http.requestMessage as arguments) and one that can be passed directly to the http.createServer method    \n* `app.httpCallback()` consumes an Owin/JS **NodeFunc** and returns a function (that takes http.requestMessage and http.requestMessage as arguments) and one that can be passed directly to the http.createServer method   \n\n## Example Usage\n\n### Installation:\n``` js\nnpm install owinjs\n```\n    \n### Hello World with Middleware Pipeline:\n``` js\nvar owin = require('owinjs');\nvar browser = require('owinjs-browser'); \nvar app = new owin.app();\napp.use(function(next){\n    this.response.writeHead(200, {'Content-Type': 'text/html'});\n    this.response.end(\"<html><head></head><body>Hello World</body>\");\n    return next();\n    });\nbrowser.createOwinServer(app.build()).listen();\n```\n   \n### Hello World with callbacks instead of Async Promises\n``` js\nvar owin = require('owinjs');\nvar browser = require('owinjs-browser'); \nvar app = new owin.app();\napp.use(function(next, callback){\n    this.response.writeHead(200, {'Content-Type': 'text/html'});\n    this.response.end(\"<html><head></head><body>Hello World</body>\");\n    next(this, function(err, result){callback(err,result)});\n    });\nbrowser.createOwinServer(app.build()).listen();\n```\n\n### OwinConnect Bridge:    \n``` js\nvar owin = require('owinjs');\nvar browser = require('owinjs-browser');  \nvar app = function(req, res) {\n    response.writeHead(200, {\"Content-Type\": \"text/html\"});\n    response.end(\"<html><head></head><body>Hello World</body>\");\n});\nbrowser.createOwinServer(owin.connect(app)).listen(); \n```    \n\n### OwinHttp Bridge:\n    \n``` js\nvar owin = require('owinjs');\nvar http = require('http');\nvar app = new owin.app();\napp.use(function(next){\n    this.response.writeHead(200, {'Content-Type': 'text/html'});\n    this.response.end(\"<html><head></head><body>Hello World</body>\");\nreturn next();\n});\nhttp.createServer(owin.http(app.build())).listen();\n```  \n\n## Definitions\n\n * **nodeFunc** = `(void) function(owin, callback)`\n   * **nodeletFunc** = `(void) function(callback)` with `this` = **owin**\n * **appFunc** = `(Promise) function(owin)`\n   * **appletFunc** = `(Promise) function()` with `this` = **owin**\n  * **app.use** = `(app)function(middleware)`\n * **middleware** = `(void) function(next, callback)`  with `this` = **owin**, `next`=**nodeletFunc** OR `(Promise) function(next)` with `this` = **owin**, `next`=**appletFunc**;\n * **app.build** = `(nodeFunc) function()`   // builds middleware \n * **owin** = owin context (with .Request, .Response object components)\n\n\n## API Reference Specification\n \n[`OwinJS/owinjs-spec`](https://github.com/OwinJS/owinjs-spec/blob/master/Specification.md)\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/OwinJS/OwinJS/issues"
  },
  "homepage": "https://github.com/OwinJS/OwinJS"
}
